<div>
   <h1>Cluster analysis and visualization</h1>
   <div>
       <mat-sidenav-container class="sidenav accordion-flush">
           <mat-sidenav mode="side" opened>

               <!--    Choose from available visualizations-->
               <mat-list-item>
                   <div class="title">Visualizations</div>
                   <mat-divider></mat-divider>
               <button mat-button class="nav-link" (click)="isSubmenuOpen=!isSubmenuOpen">
                   <span>Two features comparison </span>
                   <mat-icon>{{!isSubmenuOpen ? "expand_more" : "expand_less"}}</mat-icon>
               </button>
                <div *ngIf="isSubmenuOpen">
                    <button mat-button class="nav-link sub-item"
                            [ngClass]="{'opened' : selectedFeature == 0}"
                            (click)="selectedComponent=0;selectedFeature=0">
                        <span>Wrong flags per time played</span>
                    </button>
                    <br/>
                    <button mat-button class="nav-link sub-item"
                            [ngClass]="{'opened' : selectedFeature == 1}"
                            (click)="selectedComponent=0;selectedFeature=1">
                        <span>Time spent after using a hint</span>
                    </button>
                </div>

                <div>
                    <button mat-button class="nav-link"
                            [ngClass]="{'opened' : selectedFeature == 2}"
                            (click)="selectedComponent=2;selectedFeature=2">
                        <span>Behavior correlation chart</span>
                    </button>
                </div>
               </mat-list-item>

               <mat-list-item>
                   <div class="title">Testing parameters</div>
                   <mat-divider></mat-divider>
                   <!-- inputs for testing purposes -->
                   <mat-form-field appearance="fill">
                       <mat-label>Number of clusters:</mat-label>
                       <input matInput type="number" min="1" [(ngModel)]="numOfClusters">
                   </mat-form-field>
                   <br/>
                   <mat-form-field appearance="fill">
                       <mat-label>Training definition identification:</mat-label>
                       <mat-select [(value)]="trainingDefinitionId" (selectionChange)="selectionChange()">
                         <!--  <mat-option [value]="8">8</mat-option>-->
                           <mat-option [value]="25">Kobylka 3302</mat-option>
                          <!-- <mat-option [value]="27">27</mat-option>-->
                           <mat-option [value]="60">Hacking Day Cyber Task Force Delta</mat-option>
                           <mat-option [value]="64">Captain Slovakistan</mat-option>
                       </mat-select>
                   </mat-form-field>
                   <br/>
                   <mat-form-field appearance="fill">
                       <mat-label>Level selection:</mat-label>
                       <mat-select [(value)]="level">
                           <mat-option [value]="''">All levels</mat-option>
                           <mat-option *ngFor="let l of trainingLevels[trainingDefinitionId]  | keyvalue" [(value)]="l.value">{{l.key}}</mat-option>
                       </mat-select>
                   </mat-form-field>


                   <!-- use this input for any input
                   <mat-form-field appearance="fill">
                       <mat-label>Training definition identification:</mat-label>
                       <input matInput type="number" min="1" [(ngModel)]="trainingDefinitionId">
                   </mat-form-field>
                   -->
                   <!--<br/>
                   <button type="submit" mat-flat-button color="primary">Recalculate w/ new data</button>-->
               </mat-list-item>
            </mat-sidenav>

           <!-- Main content -->
           <mat-sidenav-content style="margin-left: 255px;">
               <kypo-clustering-visualization
                        [selectedComponent]="selectedComponent"
                        [selectedFeature]="selectedFeature"
                        [trainingDefinitionId]="trainingDefinitionId"
                        [trainingInstanceId]="trainingInstanceId"
                        [numOfClusters]="numOfClusters"
                        [isStandalone]="true"
                        [level]="level"
               >
               </kypo-clustering-visualization>
            </mat-sidenav-content>
        </mat-sidenav-container>
    </div>
</div>
